
---
# Web. Protocolo HTTP

[Back to index](../README.md)

---
## Proxies 
- **Definición**. Servidores intermedios entre cliente y servidor
- **Tipos**:
	- Directo
		- Se encuentra al lado del cliente. Puede ser transparente.
		- Filtra contenidos, monitoriza hosts y mejora eficiencia caché.
	- Inverso
		- Se encuentra al lado del servidor
		- Mejora la eficiencia (load-balancing, caché, SSL) y seguridad del servidor.

---
## Cachés
- **Definición**.
	- Copia de recursos en almacén cercano para reducir uso de red y tiempos.
	- Puede ser local (navegador) o remota (servidor intermedio)
- **Códigos de Respuesta HTTP**
	- `304 Not Changed`. Indica que la copia en caché es válida.
	- `200 OK`. Indica que se envía el recurso actualizado
- **Estrategias de caché y cabeceras**
	- **Fecha de modificación**
		- `Last-Modified`
			- Usado en respuesta servidor.
			- Última fecha de modificación de recurso en servidor.
		- `If-Modified-Since`
			- Usado en petición cliente si recurso solicitado está cacheado.
			- Fecha de mod. que el cliente obtuvo previamente con `Last-Modified`
	- **Cambio de contenido**
		- `ETag`
			- Usado en respuesta servidor.
			- Contiene hash del contenido del recurso.
		- `If-None-Match
			- Usado en petición cliente si recurso solicitado está cacheado.
			- Contiene el hash que el cliente obtuvo previamente con `ETag`
	- **Fecha de Caducidad**
		- `Cache-Control: max-age` (en respuesta servidor)
			- Contiene el tiempo durante el cual el cliente no volverá a solicitar el recurso.
		- `Cache-Control: no-cache` (en petición cliente)
			- Evita que el proxy intermedio responda con el recurso en caché.
		- Posibles valores
			- `Cache-Control: no-cache`. No guardar en cache.
			- `Cache-Control: public`. Puede guardarse en caché de proxies.
			- `Cache-Control: private` Puede guardarse en caché cliente.
			- `Cache-Control: max-age=3000`. Puede guardarse pero caduca en 3000s.
---
## Páginas Generadas Dinámicamente
- **Definición**
	- Recurso generado a partir de la ejecución de un programa externo.
	- Argumentos obtenidos con `GET` (parámetros URL) o `POST`.
- **Tecnologías**
	- **Common Gateway Interface (CGI)**
		- Servidor web crea procesos con `fork()` y pasa argumentos como env. variables.
		- Obsoleto. Sobrecarga de crear un proceso por petición.
	- **Módulos de servidor Web**
		- Servidor web es capaz de interpretar ciertos lenguajes
		- Código puede estar embebido en HTML (php) o no (python).
		- No permite máquinas separadas ni optimización estático/dinámico.
	- **Fast CGI / SCGI**
		- Ejecución de código en servidor externo de aplicaciones.
		- Argumentos y resultados comunicados por sockets con protocolo binario (Fast CGI)
		- Más complejo de configurar.
	- **ASP:NET**
		- Similar a los módulos de servidor embebidos pero basados en .NET.
		- Sistema cerrado propietario de Microsoft.
	- **Tecnologías Java**
		- Usan java para ejecutar código en un contenedor de servlets
		- Tipos:
			- **Java Servlets**. Clase de java genera la página web.
			- **Java Server Pages (JSP)**. Java directamente embebido en HTML.
		- Entorno cerrado (solo Java) con peor respuesta a sobrecarga

---
## Sesiones
- Definición
	- Es un conjunto de peticiones al mismo servidor desde el mismo usuario.
	- En HTTP cada petición es una conexión TCP independiente.
	- Uso de cabeceras para identificar al cliente.
- Token de sesión
	- Durante su primera interacción con un cliente, el servidor genera un ID único para él.
	- El servidor envía el token al cliente y este deberá usarlo para identificarse en cada petición.
- Token en URL
	1. EK

---
## Cookies


---
## Autenticación


---