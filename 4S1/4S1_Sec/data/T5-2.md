
---
# Malware y Anti-Malware

[Back to index](../README.md)

---
## Introducción
- **Def**. SW que impide el funcionamiento normal de un PC generalmente sin consentimiento.
- **Estados**
	- ***In the wild***. Malware que infecta a gran número de equipos.
	- ***In the zoo virus***. Malware en la colección de investigadores
	- **Wild list**. Malwares preocupantes (hay decenas que no lo son)
- **Niveles de amenaza**
	- **Ninguna**. Malware que funciona mal o son bromas pesadas (hoax)
	- **Baja**. Malware que requiere de acción humana para propagarse
	- **Media**. Malware que se auto-propaga lentamente y hace poco daño.
	- **Alta**. Malware que se auto-propaga rápidamente o hace daño considerable.
---
## Clasificación

| Tipo               | Necesitan anfitrión | Se auto-replican |
| ------------------ | ------------------- | ---------------- |
| **Backdoor**       | Sí                  | No               |
| **Troyano**        | Sí                  | No               |
| **Bombas lógicas** | Sí                  | No               |
| **Virus**          | Sí                  | Sí               |
| **Gusano**         | Independiente       | Sí               |
| **Zombis**         | Independiente       | Sí               |

---
## Virus
- **Def**.
	- Malware que se ejecuta sin consentimiento para producir daños y se auto-replica.
	- Se caracterizan por añadir si código a otros programas (infectados) para propagarse.
	- Si cambian su forma de infectar sistemas se llaman polimórficos
- **Fases**
	- Latente (dormant). Algunos virus quedan a la espera de algún evento para activarse.
	- Propagación (propagation). Se copia a si mismo en otros ejecutables. Puede mutar.
	- Activación (triggering). El virus se activa. Existen gran variedad de eventos posibles.
	- Ejecución. Una vez activado lleva a cabo la función para la que fue diseñado.
- **Tipos**
	- **De sector de arranque.**
		- Se copian en la unidad de arranque. Son lo primero que se ejecuta al encender.
		- Propagación con disquetes o USBs.
	- **De archivo ejecutable.**
		- El archivo infectado actua como portador. Vinculados a SO concretos.
	- **De macro**
		- Infectan documentos con macros (Word, Excel). Multiplataforma.
		- Se ejecutar cuando se abre el archivo e infectan el marco normal (infecta sistema)
		- Luego cualquier archivo que use el macro se infecta al abrirse (propagación)
	- **De correo electrónico**
		- Infecta un programa de correo electrónico y se auto-envía a contactos de la libreta.
		- Pueden propagarse poco a poco o enviar correos de forma masiva (mass mailers)
---
## Otros
### Puerta trasera
- **Def**. Elude el proceso normal de autenticación para acceder al sistema/aplicación.
	- Puede ser un programa instalado o un rootkit (SO)
	- Puede ser simétrica (cualquiera que la encuentre puede usarla) o asimétrica (solo creador)
### Troyano
- **Def**. Permite la ejecución de comandos en computador infectado sin autorización.
	- Se presenta como un programa o herramienta útil generalmente gratuita.
### Gusanos
- **Def**. Malware que se replica a sí mismo enviando copias a través de red.
	- No se introducen en un programa sino que se instalan usando vulnerabilidades del SO.
	- Pueden transportar un payload para llevar a cabo alguna tarea.
	- Suelen usarse para crear botnets (redes de zombies)
### Bombas lógicas
- **Def**. Malware que una vez instalado permanece latente hasta ser activado por un evento.
	- Uso típico de programadores descontentos que buscan represalias.
	- Puede se usado por virus y gusanos.
### Spyware
- **Def**. Malware que recopila información sin consentimiento.
	- Usos típicos. Keyloggers, historial y cookies web, applicaciones instaladas o personal info.
	- No se suele autoreplicar pero puede ser instalado por virus o gusanos.
### Adware
- Def. Malware que descarga y visualiza anuncios automáticamente con o sin consentimiento.
	- Suele ir junto con spyware para personalizar anuncios.
---
## Contramedidas. Anti-Virus
- **Funcionamiento**. Detección / Identificación / Eliminación
- Generaciones
	- Primera.
		- Usan firmas (signatures) que son secuencias de bits.
		- Deben ser largas para evitar falsas detecciones pero no mucho.
		- Funcionan buscando firmas en archivos o en memoria
		- Solo detectan virus ya conocidos (disponen de firmas en la *virus definition*)
	- Segunda
		- Heurísticos o basados en reglas